[script]
n0=on *:text:!commands*:#:{ msg # My current commands are !07rswiki !120 !bday !cache !calc !caught !clan !cml !emotes !grats !highfive !lag !links !mods !music !noob !poke !randomviewer !rc !remindcache !repair !rswiki !runetracker !spotify !stats !subscribe !time !tns !whatis !wiki }
n1=; also exist: !cheese !commands !guthixiancache !harmon !harmonbot !indecentcode !help !illuminati !ironman !life !love !nightbot !pi !roulette !rps !zezima, !uptime !tick
n2=; added !uptime - untested
n3=; added !tick - untested
n4=; standardized !cache and !remindcache?
n5=; look into !editcom?
n6=; add to !whatis, update !whatis for commands, make $wiki and $rswiki
n7=; upgrade/fix calc - check, /0, upgrade
n8=; find editor, tester, IDE
n9=; 12/14/14
n10=; added lots of commands + options
n11=; edited number of connection retries (outside script)
n12=; added !lag
n13=; added !nightbot
n14=; added wiki to !whatis
n15=; added !help
n16=; 12/13/14
n17=; added lots of commands + options
n18=; fixed !remindcache
n19=; added !noob
n20=; added !grats option
n21=; fixed !mods
n22=; added !whatis
n23=; upgraded !remindcache
n24=; added !subscribe
n25=; added !wiki
n26=; made own $duration ($my_duration)
n27=
n28=; added !07rswiki, !harmon, !harmonbot, !puppy, !mikki, !indecentcode
n29=; how you going, far out
n30=; add !weather
n31=; add documentation for !harmon, !harmonbot, !puppy, !mikki, !indecentcode
n32=; add wolframalpha to !calc, add rs high scores
n33=; d(dx)[3x]
n34=; add greeting, goodbye?
n35=
n36=on *:text:!07rswiki*:#:{ msg # 2007.runescape.wikia.com/wiki/ $+ $replace($2-,$chr(32),$chr(95)) }
n37=on *:text:!120*:#:{ msg # 104,273,167 xp }
n38=on *:text:!bday*:#:{ msg # $my_duration($timeleft($ctime(December 20 2014 10:00:00))) until Mikki's birthday! }
n39=on *:text:!cache*:#:{
n40=  var %timeleft = $timeleft(0, 10800)
n41=  if (%timeleft isnum 0-) msg # $my_duration(%timeleft) until Guthixian Cache.
n42=}
n43=/*
n44=on *:text:!calc*:#:{
n45=  if ($2 isnum && $4 isnum && ($3 == + || $3 == - || $3 == * || $3 == / || $3 == ^ || $3 == %)) {
n46=    msg # $calc($2-)
n47=  }
n48=  else { msg # Invalid Operation. }
n49=}
n50=*/
n51=on *:text:!calc*:#: msg # $iif($regsubex($remove($2-,$chr(32),$chr(44)),/((^|[+-/^*%]+)(([0-9]|\56)+)(k|m|b)|(^|[+-/^*%]+)(([0-9]|\56)+)|(^|[+-/^*%]+)(\50(.+?)\51))/ig,),Syntax Error,$iif(!$2,Syntax Error,$2- = $regsubex($ticks,$calc($regsubex($ticks,$remove($2-,$chr(44),$chr(32)),/(^|[+-/*%]+|[+-/*%]+\50)(([0-9]|\56)+)(k|m|b)/ig,\1 $+ ( $+ \2 $+ $iif(\4 == b,*1000000000,$iif(\4 == m,*1000000,*1000)) $+ ))),/\G([+-]?\d+?)(?=(?:\d{3})++(?=\.\d++$|$))/g,\1 $+ $chr(44)))) 
n52=on *:text:!caught*:#:{
n53=  if ($2) { msg # Mikki has caught a wild $capital($2-) $+ ! }
n54=  else { msg # Mikki has caught a wild $capital($nick) $+ ! }
n55=}
n56=on *:text:!cheese*:#:{ msg # $cheese }
n57=on *:text:!clan*:#:{ msg # $clan }
n58=on *:text:!cml*:#:{ msg # $cml }
n59=on *:text:!emotes*:#:{ msg # $emotes }
n60=on *:text:!grats*:#:{
n61=  if ($2) { msg # Congratulations, $capital($2-) $+ !!!!! }
n62=  else { msg # Congratulations!!!!! }
n63=}
n64=on *:text:!guthixiancache*:#:{ msg # $guthixiancache }
n65=on *:text:!harmon*:#:{ msg # Harmon is my creator. }
n66=on *:text:!harmonbot*:#:{ msg # That's me! }
n67=on *:text:!help*:#:{ msg # Use !whatis _ and I will tell you what certain things or commands are. }
n68=on *:text:!highfive*:#:{
n69=  if ($2) { msg # $capital($nick) highfives $capital($2-) $+ ! }
n70=  else { msg # $capital($nick) highfives $capital($nick) $+ . :-/ }
n71=}
n72=on *:text:!indecentcode*:#:{ msg # indecentcode.com/hs/index.php?id= $+ $replace($2-,$chr(32),$chr(43)) }
n73=on *:text:!illuminati*:#:{ msg # $illuminati }
n74=on *:text:!ironman*:#:{ msg # $ironman }
n75=on *:text:!lag*:#:{ msg # #StreamingProblems }
n76=on *:text:!life*:#:{ msg # $life }
n77=on *:text:!links*:#:{ msg # $links }
n78=on *:text:!love*:#:{ msg # $love }
n79=on *:text:!mikki*:#:{ msg # Mikki is awesome~ }
n80=on *:text:!mods*:#:{
n81=  var %t = 0
n82=  while (%t <= $nick(#,0,o)) {
n83=    var %tmod = $iif(%tmod,%tmod $capital($nick(#,%t,o)),$capital($nick(#,%t,o)))
n84=    inc %t
n85=  }
n86=  msg # Mods Online: $iif(%tmod,%tmod,None)
n87=}
n88=on *:text:!music*:#:{ msg # $music }
n89=on *:text:!nightbot*:#:{ msg # !noob Nightbot }
n90=on *:text:!noob*:#:{
n91=  if ($2) {
n92=    if ($2 == harmonbot) { msg # I am not a noob. }
n93=    elseif ($2 == harmon758 || $2 == harmon) { msg # Harmon is not a noob. }
n94=    elseif ($2 == mikkiscape || $2 == mikki) { msg # Mikki is not a noob. How dare you. }
n95=    else { msg # $capital($2-) is a noob. }
n96=  }
n97=  else { msg # $capital($nick) , you are a noob. }
n98=}
n99=on *:text:!pi*:#:{
n100=  if ($nick isop #) {
n101=    msg # 3.14159265358979323846264338327 9502884197169399375105820974944 5923078164062862089986280348253 4211706798214808651328230664709 3844609550582231725359408128481 1174502841027019385211055596446 2294895493038196442881097566593 3446128475648233786783165271201 9091456485669234603486104543266 4821339360726024914127372458700 6606315588174881520920962829254 0917153643678925903600113305305 4882046652138414695194151160943 3057270365759591953092186117381 9326117931051185480744623799627 4956735188575272489122793818301 1949129833673362440656643086021 3949463952247371907021798609437
n102=  }
n103=  else { msg # 3.14 }
n104=}
n105=on *:text:!poke*:#:{
n106=  if ($2) { msg # $capital($nick) pokes $capital($2-) $+ ! }
n107=  else { msg # $capital($nick) pokes $capital($nick) $+ . o_O }
n108=}
n109=on *:text:!puppy*:#:{ msg # RalpherZ }
n110=on *:text:!randomviewer*:#:{ msg # $capital($nick(#,$rand(1,$nick(#,0)))) }
n111=on *:text:!rc*:#:{ msg # $rc }
n112=on *:text:!remindcache*:#:{
n113=  var %timeleft = $timeleft(0, 10800)
n114=  if ($2 isnum) {
n115=    var %offset = $calc($2 * 60), %msgtime = $calc(%timeleft - %offset)
n116=    msg # $capital($nick) , I'll remind you $my_duration(%offset) before Guthixian Cache.
n117=    if (%msgtime isnum 0-) .timer 1 %msgtime msg # $capital($nick) , Guthixian Cache is in $my_duration(%offset)!
n118=  }
n119=  else {
n120=    var %offset = 300, %msgtime = $calc(%timeleft - %offset)
n121=    msg # $capital($nick) , I'll remind you 5 minutes before Guthixian Cache.
n122=    if (%msgtime isnum 0-) .timer 1 %msgtime msg # $capital($nick) , Guthixian Cache is in 5 minutes!
n123=  }
n124=}
n125=on *:text:!repair*:#: { msg # $repair }
n126=on *:text:!rswiki*:#:{ msg # runescape.wikia.com/wiki/ $+ $replace($2-,$chr(32),$chr(95)) }
n127=on *:text:!runetracker*:#:{ msg # $runetracker }
n128=on *:text:!spotify*:#:{ msg # $music }
n129=on *:text:!stats*:#:{ msg # $stats }
n130=on *:text:!subscribe*:#:{ msg # $suscribe }
n131=on *:text:!time*:#:{ msg # It is currently $asctime($calc($gmt + 3600 * 8),h:nn tt) on $asctime($calc($gmt + 3600 * 8),mmmm d) in Western Australia (GMT+8). }
n132=on *:text:!tns*:#:{ msg # #TeamNoSleep }
n133=on *:text:!whatis*:#:{
n134=  if ($2) {
n135=    if ($2 == !07rswiki) { msg # Use !07rswiki _ to look something up on 2007scape Wiki. }
n136=    elseif ($2 == !120) { msg # Use !120 and I will tell you the exact amount of xp for lvl 120. }
n137=    elseif ($2 == !bday) { msg # Use !bday to find out the time left until Mikki's birthday. }
n138=    elseif ($2 == cache) { msg # $guthixiancache }
n139=    elseif ($2 == !cache) { msg # Use !cache to find out the time until the next Guthixian Cache. }
n140=    elseif ($2 == !calc) { msg # Use !calc to perform basic arithmetic. Valid operations and operators: + - * / k m b }
n141=    elseif ($2 == !caught) { msg # Use !caught _ for Mikki to catch someone. }
n142=    elseif ($2 == cheese) { msg # $cheese }
n143=    elseif ($2 == !cheese) { msg # Use !cheese to find out what cheese is. }
n144=    elseif ($2 == !clan) { msg # Use !clan to find out what clans Mikki is in. }
n145=    elseif ($2 == !cml) { msg # Use !cml for Mikki's Crystal Math Labs link. }
n146=    elseif ($2 == !commands) { msg # Use !commands and I will tell you my commands. }
n147=    elseif ($2 == !emotes) { msg # Use !emotes to see Mikki's subscriber emotes. }
n148=    elseif ($2 == !grats) { msg # Use !grats to congratulate someone. (Optional: !grats Name) }
n149=    elseif ($2 == guthixiancache) { msg # $guthixiancache }
n150=    elseif ($2 == !guthixiancache) { msg # Use !guthixiancache to find out what Guthixian Cache is. }
n151=    elseif ($2 == harmonbot) { msg # That's me! }
n152=    elseif ($2 == !help) { msg # See !help }
n153=    elseif ($2 == !highfive) { msg # Use !highfive _ to high five someone. }
n154=    elseif ($2 == illuminati) { msg # $illuminati }
n155=    elseif ($2 == !illuminati) { msg # Use !illuminati to find out what the Illuminati is. }
n156=    elseif ($2 == ironman) { msg # $ironman }
n157=    elseif ($2 == !ironman) { msg # Use !ironman to find out what Ironman Mode is. }
n158=    elseif ($2 == !lag) { msg # Use !lag when Mikki is lagging. }
n159=    elseif ($2 == life) { msg # $life }
n160=    elseif ($2 == !life) { msg # Use !life to find out what life is. }
n161=    elseif ($2 == !links) { msg # Use !links for links to Mikki's Twitter and Youtube. }
n162=    elseif ($2 == love) { msg # $love }
n163=    elseif ($2 == !love) { msg # Use !love to find out what love is. }
n164=    elseif ($2 == mikki || $2 == mikkiscape) { msg # That's who you're watching! }
n165=    elseif ($2 == !mods) { msg # Use !mods to see what mods are currently in the chat. }
n166=    elseif ($2 == !music) { msg # Use !music to see Mikki's Spotify playlist. }
n167=    elseif ($2 == !nightbot) { msg # See !nighbot }
n168=    elseif ($2 == !noob) { msg # Use !noob _ to call someone a noob. }
n169=    elseif ($2 == !pi) { msg # Use !pi for an approximate value of pi. }
n170=    elseif ($2 == !poke) { msg # Use !poke _ to poke someone. }
n171=    elseif ($2 == !randomviewer) { msg # Use !randomviewer to select a random person watching the stream. }
n172=    elseif ($2 == !rc) { msg # Use !rc to find out Mikki's current Runecrafting levels. }
n173=    elseif ($2 == !remindcache) { msg # Use !remindcache _ and I will remind you _ minutes before Guthixian Cache. (Default is 5 if no _ given) }
n174=    elseif ($2 == !repair) { msg # Use !repair to remind Mikki to repair her pouch. }
n175=    elseif ($2 == !roulette) { msg # Use !roulette to play roulette. Mod only options: on, off }
n176=    elseif ($2 == !rps) { msg # Use !rps _ to play rock, paper, scissors. Options: rock, paper, scissors; Mod only: on, off }
n177=    elseif ($2 == !rswiki) { msg # Use !rswiki _ to look something up on Runescape Wiki. }
n178=    elseif ($2 == !runetracker) { msg # Use !runetracker for Mikki's Runetracker links. }
n179=    elseif ($2 == !spotify) { msg # Use !spotify to see Mikki's Spotify playlist. }
n180=    elseif ($2 == stats) { msg # $stats }
n181=    elseif ($2 == !stats) { msg # Use !stats to see Mikki's stats. }
n182=    elseif ($2 == !subscribe) { msg # Use !suscribe for the link to subscribe to Mikkiscape. }
n183=    elseif ($2 == !tick) { msg # Use !tick to see how many ticks Mikki has wasted. }
n184=    elseif ($2 == !time) { msg # Use !time to find out Mikki's current time. }
n185=    elseif ($2 == !tns) { msg # Use !tns to support #TeamNoSleep. }
n186=    elseif ($2 == !uptime) { msg # Use !uptime to find out how long Mikki has been streaming. }
n187=    elseif ($2 == !whatis) { msg # That's the command you just used! Use it and I will tell you what certain things or commands are. }
n188=    elseif ($2 == !wiki) { msg # Use !wiki _ to look something up on Wikipedia. }
n189=    elseif ($2 == zezima) { msg # $zezima }
n190=    elseif ($2 == !zezima) { msg # Use !zezima to find out who Zezima is. }
n191=    elseif ($2 isnum && $4 isnum && ($3 == + || $3 == - || $3 == * || $3 == / || $3 == ^ || $3 == %)) {
n192=      msg # $2- = $calc($2-)
n193=    }
n194=    else { msg # I don't know what that is. Try runescape.wikia.com/wiki/ $+ $replace($2-,$chr(32),$chr(95)) or 2007.runescape.wikia.com/wiki/ $+ $replace($2-,$chr(32),$chr(95)) or wikipedia.org/wiki/ $+ $replace($2-,$chr(32),$chr(95)) }
n195=  }
n196=  else { msg # What is what? }
n197=}
n198=on *:text:!wiki*:#: { msg # wikipedia.org/wiki/ $+ $replace($2-,$chr(32),$chr(95)) }
n199=on *:text:!zezima*:#: { msg # $zezima }
n200=
n201=on *:text:!roulette*:#: {
n202=  if ($nick isop #) && ($2) {
n203=    if ($istok(on,$2,32)) {
n204=      set %roulette.status on 
n205=      msg # Roulette is on.
n206=      return
n207=    }
n208=    if ($istok(off,$2,32)) {
n209=      set %roulette.status off 
n210=      msg # Roulette is off.
n211=      return
n212=    }
n213=  }
n214=  if (%roulette.status == off) { return }
n215=  /*
n216=  if ((%floodroulette) || ($($+(%,floodroulette.,$nick),2))) { return }
n217=  set -u10 %floodroulette On
n218=  set -u30 %floodroulette. $+ $nick On
n219=  */
n220=  if ($nick isop #) {
n221=    var %randmods = $rand(1,4)
n222=    if (%randmods == 1) { msg # Roulette clicks!...Empty...You live to see another day, $capital($nick) }
n223=    if (%randmods == 2) { msg # BANG! ... You were shot, but live! There must be secert powers in your mod armor, $capital($nick) }
n224=    if (%randmods == 3) { msg # BANG! ... The bullet missed, you only have your born moderation powers to thank, $capital($nick) }
n225=    if (%randmods == 4) { msg # $capital($nick) starts to shake, $capital($nick) tries to pull the trigger but can't. $capital($nick) drops the gun, $capital($nick) isn't up to the challenge of Roulette. }
n226=  }
n227=  else {
n228=    var %randnumber = $rand(1,4)
n229=    if (%randnumber == 1) { msg # BANG!... Roulette claims another soul. R.I.P $capital($nick) }
n230=    if (%randnumber == 2) { msg # Roulette clicks!...Empty...You live to see another day, $capital($nick) }
n231=    if (%randnumber == 3) { msg # BANG!... $capital($nick) Was a great viewer, and now $capital($nick) is a dead viewer. R.I.P }
n232=    if (%randnumber == 4) { msg # $capital($nick) starts to shake, $capital($nick) tries to pull the trigger but can't. $capital($nick) drops the gun, $capital($nick) isn't up to the challenge of Roulette. }
n233=  }
n234=}
n235=
n236=on *:text:!rps*:#: {
n237=  if ($nick isop #) && ($2) {
n238=    if ($istok(on,$2,32)) {
n239=      set %rps.status on 
n240=      msg # RPS is on.
n241=      return
n242=    }
n243=    if ($istok(off,$2,32)) {
n244=      set %rps.status off 
n245=      msg # RPS is off.
n246=      return
n247=    }
n248=  }
n249=  if (%rps.status == off) { return }
n250=  if ($2 == scissors) {
n251=    var %scissors = $rand(1,3)
n252=    if (%scissors == 1) { msg # ROCK -- Rock beats Scissors! You lose, $capital($nick) ! }
n253=    if (%scissors == 2) { msg # PAPER -- Hmm, I lose. Congrats, $capital($nick) }
n254=    if (%scissors == 3) { msg # SCISSORS -- Dang it, it's a draw. }
n255=    return
n256=  }
n257=  if ($2 == paper) {
n258=    var %paper = $rand(1,3)
n259=    if (%paper == 1) { msg # SCISSORS -- Scissors beats Paper! You lose, $capital($nick) ! }
n260=    if (%paper == 2) { msg # ROCK -- Hmm, I lose. Congrats, $capital($nick) }
n261=    if (%paper == 3) { msg # PAPER -- Dang it, it's a draw. }
n262=    return
n263=  }
n264=  if ($2 == rock) {
n265=    var %rock = $rand(1,3)
n266=    if (%rock == 1) { msg # PAPER -- Paper beats Rock! You lose, $capital($nick) ! }
n267=    if (%rock == 2) { msg # SCISSORS -- Hmm, I lose. Congrats, $capital($nick) }
n268=    if (%rock == 3) { msg # ROCK -- Dang it, it's a draw. }
n269=    return
n270=  }
n271=  msg # $capital($nick) is a cheater. Reported.
n272=}
n273=
n274=alias timeleft {
n275=  var %start = $1, %interval = $2, %timeleft
n276=  if ($ctime <= %start) || (!%interval) { %timeleft = $calc(%start - $ctime) }
n277=  else { %timeleft = $calc(%interval - ($ctime - %start) % %interval) }
n278=  return %timeleft
n279=}
n280=
n281=alias my_duration {
n282=  var %secs = $1, %my_duration
n283=  if (%secs > 604800) {
n284=    %my_duration = %my_duration $floor($calc(%secs / 604800)) weeks
n285=    %secs = $calc(%secs - $floor($calc(%secs / 604800)) * 604800)
n286=  }
n287=  if (%secs > 86400) {
n288=    %my_duration = %my_duration $floor($calc(%secs / 86400)) days
n289=    %secs = $calc(%secs - $floor($calc(%secs / 86400)) * 86400)
n290=  }
n291=  if (%secs > 3600) {
n292=    %my_duration = %my_duration $floor($calc(%secs / 3600)) hours
n293=    %secs = $calc(%secs - $floor($calc(%secs / 3600)) * 3600)
n294=  }
n295=  if (%secs > 60) {
n296=    %my_duration = %my_duration $floor($calc(%secs / 60)) minutes
n297=    %secs = $calc(%secs - $floor($calc(%secs / 60)) * 60)
n298=  }
n299=  if (%secs != 0) {
n300=    %my_duration = %my_duration %secs seconds
n301=  }
n302=  return %my_duration
n303=}
n304=
n305=on *:text:!tick*:#:{
n306=  %count = $calc(%count + 1)
n307=  msg # Mikki has wasted %count ticks. http://i.imgur.com/bSCnFb1.png
n308=}
n309=
n310=on *:text:!uptime*:#:{
n311=  sockclose uptime
n312=  sockopen uptime nightdev.com 80
n313=}
n314=on *:sockopen:uptime:{
n315=  if ($sockerr) { sockclose $sockname | halt }
n316=  sockwrite -n $sockname GET /hosted/uptime.php?channel=mikkiscape HTTP/1.1
n317=  sockwrite -n $sockname Host: nightdev.com $crlf $+ $crlf
n318=}
n319=on *:sockread:uptime:{
n320=  if ($sockerr) { sockclose $sockname }
n321=  var %streamodata
n322=  sockread %streamodata
n323=  if ($regex(%streamodata,(.*)minutes)) { msg #mikkiscape $regml(1) minutes }
n324=  if ($regex(%streamodata,(.*)live.)) { msg #mikkiscape Mikki is offline. }
n325=}
n326=
n327=; alias safe return $decode( $encode($1-,m),m )
n328=
n329=alias capital return $upper($left($1,1)) $+ $mid($1,2-)
n330=
n331=alias cheese return http://en.wikipedia.org/wiki/Cheese
n332=alias cml return http://crystalmathlabs.com/tracker/track.php?player=aru
n333=alias clan return || RS3 Clan || http://services.runescape.com/m=clan-home/clan/Gum || OSRS Clan || http://services.runescape.com/m=forum/forums.ws?320,321,920,65349188
n334=alias emotes return http://puu.sh/b1hyR.jpg
n335=alias guthixiancache return runescape.wikia.com/wiki/Guthixian_Cache
n336=alias illuminati return http://en.wikipedia.org/wiki/Illuminati
n337=alias links return Twitter: https://twitter.com/mikkiscape YouTube: https://www.youtube.com/user/mikscape
n338=alias ironman return runescape.wikia.com/wiki/Ironman_Mode
n339=alias life return http://en.wikipedia.org/wiki/Life
n340=alias love return http://en.wikipedia.org/wiki/Love https://www.youtube.com/watch?v=xhrBDcQq2DM
n341=alias music return http://open.spotify.com/user/mikkirs/playlist/5OBCdMNiGiTRGL0cqWL9CT
n342=alias rc return || OSRS || 92/99 --------- || Ironman || 89/99
n343=alias repair return REPAIR POUCH! REPAIR POUCH! REPAIR POUCH! REPAIR POUCH!
n344=alias runetracker return || Main || http://runetracker.org/track-mikki || Ironman || http://runetracker.org/track-fe+mikki
n345=alias stats return || Main || http://www.indecentcode.com/hs/index.php?id=mikki --- || OSRS || http://www.indecentcode.com/oldschool/index.php?id=aru || Ironman || http://indecentcode.com/hs/index.php?id=Fe+Mikki
n346=alias suscribe return https://secure.twitch.tv/products/mikkiscape/ticket
n347=alias zezima return http://rsplayers.wikia.com/wiki/Zezima
