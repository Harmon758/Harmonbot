[script]
n0=on *:text:!commands:#:{ msg # My current commands are !commands !cache !remindcache !time }
n1=; !mods !randomviewer !roulette !rps
n2=; make !help !stats !uptime
n3=
n4=on *:text:!cache:#:{
n5=  var %timeleft = $timeleft($ctime(December 12 2014 9:00:00), 10800)
n6=  if (%timeleft isnum 0-) msg # $duration(%timeleft) until Guthixian Cache.
n7=}
n8=
n9=on *:text:!mods:#:{
n10=  var %t = 1
n11=  while (%t <= $nick(#,0,o)) {
n12=    var %tmod = $iif(%tmod,%tmod $captial($nick(#,%t,o)),$capital($nick(#,%t,o)))
n13=    inc %t
n14=  }
n15=  msg # Mods Online: $iif(%tmod,%tmod,None)
n16=}
n17=
n18=on *:text:!randomviewer:#:{
n19=  msg # $capital($nick(#,$rand(1,$nick(#,0))))
n20=}
n21=
n22=on *:text:!remindcache:#:{
n23=  var %timeleft = $timeleft($ctime(December 12 2014 9:00:00), 10800)
n24=  var %offset = 5, %msgtime = $calc(%timeleft - %offset)
n25=  msg # $capital($nick) , I'll remind you 5 minutes before Guthixian Cache.
n26=  if (%msgtime isnum 0-) .timer 1 %msgtime msg # $capital($nick) , Guthixian Cache is in $duration(%offset)!
n27=}
n28=
n29=on *:text:!time:#:{
n30=  msg # It is currently $asctime($calc($gmt + 3600 * 8),h:nn tt) on $asctime($calc($gmt + 3600 * 8),mmmm d) in Western Australia (GMT+8).
n31=}
n32=
n33=/*
n34=on *:text:!uptime:#:{
n35=  msg # $uptime(system,1)
n36=}
n37=*/
n38=
n39=on *:text:!roulette*:#: {
n40=  if ($nick isop #) && ($2) {
n41=    if ($istok(on,$2,32)) {
n42=      set %roulette.status on 
n43=      msg $chan Roulette is on.
n44=      return
n45=    }
n46=    if ($istok(off,$2,32)) {
n47=      set %roulette.status off 
n48=      msg $chan Roulette is off.
n49=      return
n50=    }
n51=  }
n52=  if (%roulette.status == off) { return }
n53=  /*
n54=  if ((%floodroulette) || ($($+(%,floodroulette.,$nick),2))) { return }
n55=  set -u10 %floodroulette On
n56=  set -u30 %floodroulette. $+ $nick On
n57=  */
n58=  if ($nick isop #) {
n59=    var %randmods = $rand(1,4)
n60=    if (%randmods == 1) msg $chan Roulette clicks!...Empty...You live to see another day, $capital($nick)
n61=    if (%randmods == 2) msg $chan BANG! ... You were shot, but live! There must be secert powers in your mod armor, $capital($nick) 
n62=    if (%randmods == 3) msg $chan BANG! ... The bullet missed, you only have your born moderation powers to thank, $capital($nick) 
n63=    if (%randmods == 4) msg $chan $capital($nick) starts to shake, $capital($nick) tries to pull the trigger but can't. $capital($nick) drops the gun, $capital($nick) isn't up to the challenge of Roulette. 
n64=  }
n65=  else {
n66=    var %randnumber = $rand(1,4)
n67=    if (%randnumber == 1) { msg $chan BANG!... Roulette claims another soul. R.I.P $capital($nick) }
n68=    if (%randnumber == 2) { msg $chan Roulette clicks!...Empty...You live to see another day, $capital($nick) }
n69=    if (%randnumber == 3) { msg $chan BANG!... $capital($nick) Was a great viewer, and now $capital($nick) is a dead viewer. R.I.P }
n70=    if (%randnumber == 4) { msg $chan $capital($nick) starts to shake, $capital($nick) tries to pull the trigger but can't. $capital($nick) drops the gun, $capital($nick) isn't up to the challenge of Roulette. }
n71=  }
n72=}
n73=
n74=on *:text:!rps *:#: {
n75=  if ($nick isop #) && ($2) {
n76=    if ($istok(on,$2,32)) {
n77=      set %rps.status on 
n78=      msg $chan RPS is on.
n79=      return
n80=    }
n81=    if ($istok(off,$2,32)) {
n82=      set %rps.status off 
n83=      msg $chan RPS is off.
n84=      return
n85=    }
n86=  }
n87=  if (%rps.status == off) { return }
n88=  if ($2 == scissors) {
n89=    var %scissors = $rand(1,3)
n90=    if (%scissors == 1) { msg # ROCK -- Rock beats Scissors! You lose, $capital($nick) ! }
n91=    if (%scissors == 2) { msg # PAPER -- Hmm, I lose. Congrats, $capital($nick) }
n92=    if (%scissors == 3) { msg # SCISSORS -- Dang it, it's a draw. }
n93=    return
n94=  }
n95=  if ($2 == paper) {
n96=    var %paper = $rand(1,3)
n97=    if (%paper == 1) { msg # SCISSORS -- Scissors beats Paper! You lose, $capital($nick) ! }
n98=    if (%paper == 2) { msg # ROCK -- Hmm, I lose. Congrats, $capital($nick) }
n99=    if (%paper == 3) { msg # PAPER -- Dang it, it's a draw. }
n100=    return
n101=  }
n102=  if ($2 == rock) {
n103=    var %rock = $rand(1,3)
n104=    if (%rock == 1) { msg # PAPER -- Paper beats Rock! You lose, $capital($nick) ! }
n105=    if (%rock == 2) { msg # SCISSORS -- Hmm, I lose. Congrats, $capital($nick) }
n106=    if (%rock == 3) { msg # ROCK -- Dang it, it's a draw. }
n107=    return
n108=  }
n109=  msg # $capital($nick) is a cheater. Reported.
n110=}
n111=
n112=alias timeleft {
n113=  var %start = $1, %interval = $2, %timeleft
n114=  if ($ctime <= %start) || (!%interval) { %timeleft = $calc(%start - $ctime) }
n115=  else { %timeleft = $calc(%interval - ($ctime - %start) % %interval) }
n116=  return %timeleft
n117=}
n118=
n119=; alias safe return $decode( $encode($1-,m),m )
n120=
n121=alias capital return $upper($left($1,1)) $+ $mid($1,2-)
